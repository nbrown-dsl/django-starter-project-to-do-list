<!--html template with django code snippets-->


{% extends 'base.html' %}
{% load static %}
{%load crispy_forms_tags %}

{% block title %}My Skills{% endblock %}


{% block content %}


<div class="d-flex flex-row-reverse bd-highlight mb-1 col">
    <!--buttons to navigate-->    
     <div class="btn-group" role="group" aria-label="Basic example">
         
         
         <a class="btn btn-secondary" role="button" href="{% url 'entities' 'protocols' %}">Protocols</a>&nbsp;
         {% if user.is_superuser %}
           <div class="dropdown">
           <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
             Entities
           </button>&nbsp;
           <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
             <a class="dropdown-item" href="{% url 'entities' 'persons' %}">Persons</a>
             <a class="dropdown-item" href="{% url 'entities' 'Protocol type' %}">Protocol types</a>
             <a class="dropdown-item" href="{% url 'entities' 'tasks' %}">Tasks</a>
             <a class="dropdown-item" href="{% url 'entities' 'ListFields' %}">Fields</a>
           </div>       
         </div>
         {% endif %}
    
       </div>
     </div>

    <h2>My skills</h2>
<!-- using filter app -->
    <!-- <form method="get">
      {{ filter.form.as_p }}
      <input type="submit" />
    </form> -->

    <form action="/mycomps/" method="POST">
      {% csrf_token %}
      {{form|crispy}}
      <br>
      <button class="btn btn-primary" type="submit">Filter</button>
      <a role="button" class="btn btn-secondary" href="{% url 'mycomps' %}">Clear</a>
    </form>
    <br>
    
    <!-- <div class="card-group"> 
      <div class="row row-cols-1 row-cols-md-3 g-4"></div>
      {% for object in objects %}
      <div class="col">
      <div class="card mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="..." alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">{{obj.usertasktask.name}}</h5>
              <p class="card-text">{{obj.usertasktask.description}}</p>
              <small ><a href={{link}} target="_blank"><i class="bi bi-info-square"></i></a></small>
            </div>
          </div>
        </div>
      </div>
      </div>
      {% endfor %}
      <div>
    <div> -->

  <table class="table table-dark">
        <!-- <tr class="table-primary">
            <th></th>
            <th></th>
            <th></th>
          </tr> -->         
          <!--iterates through instances of class-->     
      {% for obj in objects %}         
              <tr><td style="width:10%">{{obj.userGrade}} </td>                 
                  <td style="width:80%">{{obj.usertasktask.description}} </td>
                  <td><center><a href="{{ obj.usertasktask.link}}" target="_blank"><i class="bi bi-info-square"></i></a></center></td>
                  <td><center><a href="{{ obj.usertasktask.system.link}}" target="_blank"><img src="{% static obj.usertasktask.system.imgFileName %}" width="24"></i></a></center></td>
              </tr>
      {% endfor %}
  </table>  

{% endblock %}


